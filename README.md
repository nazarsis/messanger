# üì± Cross-Platform Messenger

**–ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∏–π –º–µ—Å–µ–Ω–¥–∂–µ—Ä, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω–∏–π Telegram**

[![React Native](https://img.shields.io/badge/React_Native-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactnative.dev/)
[![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)](https://fastapi.tiangolo.com/)
[![MongoDB](https://img.shields.io/badge/MongoDB-4EA94B?style=for-the-badge&logo=mongodb&logoColor=white)](https://mongodb.com/)
[![Expo](https://img.shields.io/badge/Expo-1C1E24?style=for-the-badge&logo=expo&logoColor=#D04A37)](https://expo.dev/)

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üì± –ú–æ–±—ñ–ª—å–Ω–∏–π —Ç–∞ –í–µ–± –î–æ–¥–∞—Ç–æ–∫
- **–ö—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ñ—Å—Ç—å**: Android, iOS (—á–µ—Ä–µ–∑ Expo) —Ç–∞ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∏
- **–°—É—á–∞—Å–Ω–∏–π UI**: –¢–µ–º–Ω–∞ —Ç–µ–º–∞, –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω–∞ –¥–∏–∑–∞–π–Ω–æ–º Telegram
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω**: –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è –≤—Å—ñ—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ –µ–∫—Ä–∞–Ω—ñ–≤
- **Smooth UX**: –ü–ª–∞–≤–Ω—ñ –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –∂–µ—Å—Ç–∏

### üí¨ –§—É–Ω–∫—Ü—ñ—ó –ú–µ—Å–µ–Ω–¥–∂–µ—Ä–∞
- **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –Ω—ñ–∫–Ω–µ–π–º–æ–º**: –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω—ñ–∫–Ω–µ–π–º + –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω/email
- **–ü—Ä–∏–≤–∞—Ç–Ω—ñ —á–∞—Ç–∏**: –ë–µ–∑–ø–µ—á–Ω–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –æ–¥–∏–Ω-–Ω–∞-–æ–¥–∏–Ω
- **–ì—Ä—É–ø–æ–≤—ñ —á–∞—Ç–∏**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø –∑ –¥–µ–∫—ñ–ª—å–∫–æ–º–∞ —É—á–∞—Å–Ω–∏–∫–∞–º–∏
- **–ü–æ—à—É–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤**: –ó–Ω–∞–π—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –Ω—ñ–∫–Ω–µ–π–º–æ–º –∞–±–æ —ñ–º–µ–Ω–µ–º
- **–û–±–º—ñ–Ω –º–µ–¥—ñ–∞**: –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
- **–°—Ç–∞—Ç—É—Å–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å**: –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ "–≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ", "–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ", "–ø—Ä–æ—á–∏—Ç–∞–Ω–æ"
- **–õ—ñ—á–∏–ª—å–Ω–∏–∫–∏ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö**: –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ
- **Real-time messaging**: WebSocket –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–ª—è –º–∏—Ç—Ç—î–≤–æ–≥–æ –æ–±–º—ñ–Ω—É
- **–ë–µ–∑–ø–µ–∫–∞**: JWT –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ bcrypt —Ö–µ—à—É–≤–∞–Ω–Ω—è–º –ø–∞—Ä–æ–ª—ñ–≤
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: MongoDB –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º —ñ–Ω–¥–µ–∫—Å—É–≤–∞–Ω–Ω—è–º
- **API**: RESTful –µ–Ω–¥–ø–æ—ó–Ω—Ç–∏ –∑ –ø–æ–≤–Ω–æ—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é
- **–§–∞–π–ª–∏**: Base64 –∫–æ–¥—É–≤–∞–Ω–Ω—è –¥–ª—è –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –û–ø—Ü—ñ—è 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <your-repo-url>
cd messenger-app

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d

# –î–æ–¥–∞—Ç–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞:
# - –í–µ–±: http://localhost:3000
# - API: http://localhost:8001
# - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API: http://localhost:8001/docs
```

### –û–ø—Ü—ñ—è 2: –†—É—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

#### –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏
- **Node.js** 18+ 
- **Python** 3.9+
- **MongoDB** 4.4+
- **Yarn** –∞–±–æ npm

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Backend (–°–µ—Ä–≤–µ—Ä)

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è MongoDB

#### Ubuntu/Debian:
```bash
# –Ü–º–ø–æ—Ä—Ç –∫–ª—é—á–∞ GPG
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -

# –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
sudo apt update
sudo apt install -y mongodb-org

# –ó–∞–ø—É—Å–∫
sudo systemctl start mongod
sudo systemctl enable mongod
```

#### macOS:
```bash
# –ß–µ—Ä–µ–∑ Homebrew
brew tap mongodb/brew
brew install mongodb-community@6.0
brew services start mongodb/brew/mongodb-community
```

#### Windows:
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑ [–æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ —Å–∞–π—Ç—É MongoDB](https://www.mongodb.com/try/download/community)

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Backend

```bash
# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó backend
cd backend

# –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ Python
python -m venv venv

# –ê–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
# Linux/macOS:
source venv/bin/activate
# Windows:
venv\Scripts\activate

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp .env.example .env
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env —Ñ–∞–π–ª—É –¥–ª—è Backend

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `backend/.env`:

```env
# MongoDB Configuration
MONGO_URL=mongodb://localhost:27017
DB_NAME=messenger_db

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256

# Server Configuration
PORT=8001
HOST=0.0.0.0

# Environment
ENVIRONMENT=development
```

### 4. –ó–∞–ø—É—Å–∫ Backend

```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó backend
python server.py

# –ê–±–æ —á–µ—Ä–µ–∑ uvicorn
uvicorn server:app --host 0.0.0.0 --port 8001 --reload
```

Backend –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:8001`
API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `http://localhost:8001/docs`

## üì± –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Frontend (–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫)

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Expo CLI

```bash
npm install -g @expo/cli
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Frontend

```bash
# –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó frontend
cd frontend

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
yarn install
# –∞–±–æ
npm install

# –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
cp .env.example .env
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env —Ñ–∞–π–ª—É –¥–ª—è Frontend

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `frontend/.env`:

```env
# Backend API URL
EXPO_PUBLIC_BACKEND_URL=http://localhost:8001

# Expo Configuration
EXPO_USE_FAST_RESOLVER=1

# Development
EXPO_PUBLIC_ENV=development
```

**–í–∞–∂–ª–∏–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- –ó–º—ñ–Ω—ñ—Ç—å `localhost:8001` –Ω–∞ —Ä–µ–∞–ª—å–Ω—É –∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### 4. –ó–∞–ø—É—Å–∫ Frontend

```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó frontend
yarn start
# –∞–±–æ
npm start
```

### 5. –ó–∞–ø—É—Å–∫ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö

#### –í–µ–±-–±—Ä–∞—É–∑–µ—Ä:
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `w` –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∞–±–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:3000`

#### –ú–æ–±—ñ–ª—å–Ω–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π:
1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫ **Expo Go** –∑ App Store –∞–±–æ Google Play
2. –í—ñ–¥—Å–∫–∞–Ω—É–π—Ç–µ QR-–∫–æ–¥ –∑ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É
3. –î–æ–¥–∞—Ç–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó

#### –ï–º—É–ª—è—Ç–æ—Ä:
- Android: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `a` (–ø–æ—Ç—Ä—ñ–±–µ–Ω Android Studio)
- iOS: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å `i` (—Ç—ñ–ª—å–∫–∏ –Ω–∞ macOS –∑ Xcode)

## üêã Docker Deployment

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Docker Compose —Ñ–∞–π–ª—É

–°—Ç–≤–æ—Ä—ñ—Ç—å `docker-compose.yml`:

```yaml
version: '3.8'

services:
  mongodb:
    image: mongo:6.0
    restart: unless-stopped
    ports:
      - "27017:27017"
    volumes:
      - mongodb_data:/data/db
    environment:
      - MONGO_INITDB_DATABASE=messenger_db

  backend:
    build: 
      context: ./backend
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "8001:8001"
    depends_on:
      - mongodb
    environment:
      - MONGO_URL=mongodb://mongodb:27017
      - DB_NAME=messenger_db
      - JWT_SECRET=your-production-secret-key
    volumes:
      - ./backend:/app

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    restart: unless-stopped
    ports:
      - "3000:3000"
    depends_on:
      - backend
    environment:
      - EXPO_PUBLIC_BACKEND_URL=http://localhost:8001

volumes:
  mongodb_data:
```

### Backend Dockerfile

–°—Ç–≤–æ—Ä—ñ—Ç—å `backend/Dockerfile`:

```dockerfile
FROM python:3.11-slim

WORKDIR /app

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
RUN apt-get update && apt-get install -y \
    gcc \
    && rm -rf /var/lib/apt/lists/*

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –¥–æ–¥–∞—Ç–∫—É
COPY . .

# –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É
EXPOSE 8001

# –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É
CMD ["python", "server.py"]
```

### Frontend Dockerfile

–°—Ç–≤–æ—Ä—ñ—Ç—å `frontend/Dockerfile`:

```dockerfile
FROM node:18-alpine

WORKDIR /app

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Expo CLI
RUN npm install -g @expo/cli

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è package.json —Ç–∞ yarn.lock
COPY package.json yarn.lock ./

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
RUN yarn install --frozen-lockfile

# –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –¥–æ–¥–∞—Ç–∫—É
COPY . .

# –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Ä—Ç—É
EXPOSE 3000

# –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É
CMD ["yarn", "web"]
```

## üåê Deployment –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (Ubuntu)

```bash
# –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏
sudo apt update && sudo apt upgrade -y

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
sudo usermod -aG docker $USER

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Nginx
sudo apt install -y nginx

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Certbot –¥–ª—è SSL
sudo apt install -y certbot python3-certbot-nginx
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Nginx

–°—Ç–≤–æ—Ä—ñ—Ç—å `/etc/nginx/sites-available/messenger`:

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # Frontend
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Backend API
    location /api {
        proxy_pass http://localhost:8001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # WebSocket support
    location /ws {
        proxy_pass http://localhost:8001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

–ê–∫—Ç–∏–≤—É–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é:

```bash
sudo ln -s /etc/nginx/sites-available/messenger /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

### 3. SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç

```bash
sudo certbot --nginx -d your-domain.com
```

### 4. Deployment –¥–æ–¥–∞—Ç–∫—É

```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone <your-repo-url> /opt/messenger
cd /opt/messenger

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è production .env —Ñ–∞–π–ª—ñ–≤
# backend/.env
sudo tee backend/.env <<EOF
MONGO_URL=mongodb://mongodb:27017
DB_NAME=messenger_db
JWT_SECRET=$(openssl rand -hex 32)
ENVIRONMENT=production
EOF

# frontend/.env
sudo tee frontend/.env <<EOF
EXPO_PUBLIC_BACKEND_URL=https://your-domain.com
EXPO_PUBLIC_ENV=production
EOF

# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É
docker-compose ps
```

## üì± –°—Ç–≤–æ—Ä–µ–Ω–Ω—è APK –¥–ª—è Android

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Expo –¥–ª—è –±—ñ–ª–¥–∞

```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó frontend
npx expo install expo-build-properties

# –û–Ω–æ–≤—ñ—Ç—å app.json
```

–î–æ–¥–∞–π—Ç–µ –≤ `frontend/app.json`:

```json
{
  "expo": {
    "name": "Messenger",
    "slug": "messenger-app",
    "version": "1.0.0",
    "platforms": ["ios", "android", "web"],
    "orientation": "portrait",
    "icon": "./assets/icon.png",
    "splash": {
      "image": "./assets/splash.png",
      "resizeMode": "contain",
      "backgroundColor": "#000000"
    },
    "android": {
      "package": "com.yourcompany.messenger",
      "versionCode": 1,
      "adaptiveIcon": {
        "foregroundImage": "./assets/adaptive-icon.png",
        "backgroundColor": "#000000"
      }
    },
    "ios": {
      "bundleIdentifier": "com.yourcompany.messenger",
      "buildNumber": "1.0.0"
    },
    "plugins": [
      "expo-router"
    ]
  }
}
```

### 2. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è APK

```bash
# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å EAS CLI
npm install -g @expo/eas-cli

# –õ–æ–≥—ñ–Ω –≤ Expo
eas login

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
eas build:configure

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è APK –¥–ª—è Android
eas build --platform android --profile preview

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è production –±—ñ–ª–¥–∞
eas build --platform android --profile production
```

## üîß API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ó–Ω—Ç–∏:

#### –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- `POST /api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/auth/login` - –í—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/users/me` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/users/search?q=query` - –ü–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

#### –ß–∞—Ç–∏
- `GET /api/chats` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —á–∞—Ç—ñ–≤
- `POST /api/chats` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç—É
- `GET /api/chats/{chat_id}/messages` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- `POST /api/chats/{chat_id}/messages` - –ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- `POST /api/chats/{chat_id}/upload` - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:

#### –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
```bash
curl -X POST "http://localhost:8001/api/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "nickname": "john_doe",
    "email": "john@example.com",
    "password": "securepassword",
    "display_name": "John Doe"
  }'
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø–æ–≤–æ–≥–æ —á–∞—Ç—É
```bash
curl -X POST "http://localhost:8001/api/chats" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "chat_type": "group",
    "name": "My Group",
    "participants": ["user_id_1", "user_id_2"]
  }'
```

## üêõ Troubleshooting

### –ü–æ—à–∏—Ä–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏:

#### 1. Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–ø—É—â–µ–Ω–æ MongoDB
sudo systemctl status mongod

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ backend
docker-compose logs backend
```

#### 2. Frontend –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ API
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `EXPO_PUBLIC_BACKEND_URL` –≤ `.env`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ backend –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ—Ä—Ç—É
- –î–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ IP –∞–¥—Ä–µ—Å—É, –∞ –Ω–µ localhost

#### 3. –ü–æ–º–∏–ª–∫–∏ CORS
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ CORS –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ backend
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ frontend —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –¥–æ–º–µ–Ω

#### 4. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
mongo --eval "db.adminCommand('ismaster')"

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose exec mongodb mongo --eval "db.adminCommand('ismaster')"
```

### –õ–æ–≥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

```bash
# Backend –ª–æ–≥–∏
docker-compose logs -f backend

# Frontend –ª–æ–≥–∏ (–≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –¥–µ –∑–∞–ø—É—â–µ–Ω–æ yarn start)
# –ê–±–æ –≤ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

# MongoDB –ª–æ–≥–∏
docker-compose logs -f mongodb

# Nginx –ª–æ–≥–∏
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è

### 1. Backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è backup
docker-compose exec mongodb mongodump --db messenger_db --out /backup

# –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ backup
docker-compose exec mongodb mongorestore --db messenger_db /backup/messenger_db
```

### 2. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—É

```bash
# –ó—É–ø–∏–Ω–∫–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose down

# –û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å
git pull origin main

# –ü–µ—Ä–µ–±—ñ–ª–¥ —Ç–∞ –∑–∞–ø—É—Å–∫
docker-compose up -d --build
```

### 3. –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

–î–ª—è –≤–∏—Å–æ–∫–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

```yaml
# docker-compose.production.yml
version: '3.8'

services:
  backend:
    deploy:
      replicas: 3
    
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - backend
```

## ü§ù –°–ø—Ä–∏—è–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É –¥–ª—è –Ω–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó (`git checkout -b feature/AmazingFeature`)
3. –ó–∞—Ñ—ñ–∫—Å—É–π—Ç–µ –∑–º—ñ–Ω–∏ (`git commit -m 'Add some AmazingFeature'`)
4. Push –¥–æ –≥—ñ–ª–∫–∏ (`git push origin feature/AmazingFeature`)
5. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Pull Request

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –º–∞—î –ª—ñ—Ü–µ–Ω–∑—ñ—é MIT - –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôã‚Äç‚ôÇÔ∏è –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- üìß Email: support@yourdomain.com
- üí¨ Telegram: @yourusername
- üêõ Issues: [GitHub Issues](https://github.com/yourrepo/issues)

---

**–ó—Ä–æ–±–ª–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤**
